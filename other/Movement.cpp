#include <Arduino.h>
#include <Servo.h>
COLOR_TYPE parkcolor; // collor type


Servo rightservo;  // create servo object to control a servo
Servo leftservo;  // create servo object to control a servo


const uint8_t LEFTSERVOPIN=31; // Left Servo plugged into j6
const uint8_t RIGHTSEROVPIN=32;// Right Servo plugged into j5
int pos =0;

void rotate_left(int speed)
{
    speed = map(speed, 0, 100, 0, 90);
    leftservo.write(90-speed);
    rightservo.write(90-speed);
}
void rotate_right(int speed)
{
    speed = map(speed, 0, 100, 0, 90);
    leftservo.write(90+speed);
    rightservo.write(90+speed);
}
void go_forward(int speed)
{
    speed = map(speed, 0, 100, 0, 90);
    leftservo.write(90+speed);
    rightservo.write(90-speed);
}

void go_backward(int speed)
{
    speed = map(speed, 0, 100, 0, 90);
    leftservo.write(90-speed);
    rightservo.write(90+speed);
}

void servo_stop()
{

    leftservo.write(90);
    rightservo.write(90);
}

void goto_angle (int angle){
    int current_yaw = getyaw();
        while(!(current_yaw > angle-3) && (current_yaw < angle+3)){ // command to go to home angle
    rotate_right(10);
    current_yaw= getyaw();
    }
}

//Find color function used in the COLOR_STATE
COLOR_TYPE forward_until_color(){
        while((scancolors() == WHITE_PAD)){
        go_forward(5);

    }
    servo_stop();
    return scancolors();
}

void rotate_black(){

if ( parkcolor == BLACK_PAD) {

    servo_stop();
    Serial.print("success Turbo-Spoon Parked for Black");
}
    else if (parkcolor == RED_PAD ){
        while((scancolors() == parkcolor)){
        rotate_left(4);
        Serial.print("success Turbo-Spoon Parked for RED");
        }
    }
    else if (parkcolor == BLUE_PAD ){
        while((scancolors() == parkcolor)){
            rotate_right(4);
            Serial.print("success Turbo-Spoon Parked For BLUE");

        }
    }


    }
